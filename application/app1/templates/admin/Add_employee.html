{% load static %}
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title> Student  management</title>
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <meta content="Cleaning Company Website Template" name="keywords">
        <meta content="Cleaning Company Website Template" name="description">

        <!-- Favicon -->
        <link href="{% static 'home/img/favicon.ico' %}" rel="icon">

        <!-- Google Font -->
        <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@100;300;400&display=swap" rel="stylesheet">
        
        <!-- CSS Libraries -->
        <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet">
        <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">
        <link href="{% static 'home/lib/owlcarousel/assets/owl.carousel.min.css' %}" rel="stylesheet">
        <link href="{% static 'home/lib/lightbox/css/lightbox.min.css' %}" rel="stylesheet">

        <!-- Template Stylesheet -->
        <link href="{% static 'home/css/style.css' %}" rel="stylesheet">
    </head>
    <script src="{% static 'assets/jquery-2.1.4.min.js' %}"></script>
    <body>
        <div class="wrapper">
            <!-- Header Start -->
            <div class="header home">
                <div class="container-fluid">
                    <div class="header-top row align-items-center">
                        <div class="col-lg-3">
                            <div class="brand">
                                <a href="index.html" style="font-size: 30px;">
                                    Attendance  management
                           
                                </a>
                            </div>
                        </div>
                        <div class="col-lg-9">
                            <div class="topbar">
                                <div class="topbar-col">
                                    <a href="tel:+012 345 67890"><i class="fa fa-phone-alt"></i>+012 345 67890</a>
                                </div>
                                <div class="topbar-col">
                                    <a href="mailto:info@example.com"><i class="fa fa-envelope"></i>info@example.com</a>
                                </div>
                                <div class="topbar-col">
                                    <div class="topbar-social">
                                        <a href=""><i class="fab fa-twitter"></i></a>
                                        <a href=""><i class="fab fa-facebook-f"></i></a>
                                        <a href=""><i class="fab fa-youtube"></i></a>
                                        <a href=""><i class="fab fa-instagram"></i></a>
                                        <a href=""><i class="fab fa-linkedin-in"></i></a>
                                    </div>
                                </div>
                            </div>
                            <div class="navbar navbar-expand-lg bg-light navbar-light">
                                <a href="#" class="navbar-brand">MENU</a>
                                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbarCollapse">
                                    <span class="navbar-toggler-icon"></span>
                                </button>

                                <div class="collapse navbar-collapse justify-content-between" id="navbarCollapse">
                                    <div class="navbar-nav ml-auto">
                                        <a href="{% url 'AdminHome' %}"class="nav-item nav-link active">Home</a>
                                        <a href="" class="nav-item nav-link">About</a>
                                        
                                        <a href="" class="nav-item nav-link">Contact</a>
                                        
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <center>
                    <div class="hero row align-items-center" style="width: 2000px;margin-left: 300px;">
                    
                        <div class="col-md-5">
                            <div class="form">
                                <h3>Register new Student</h3>
                        
                                   
                                    <input type="text" class="form-control" id="fname" placeholder="Name of Studnet">
                                    <input type="email" class="form-control " id="email" placeholder="EMAIL" >

                                        <input type="number" class="form-control " maxlength=10 id="phone"  placeholder="PHONE">
                                      
            
                                        <input type="text" class="form-control " id="addr" placeholder="ADDRESS">
                                      
                                        <input type="text" class="form-control" id="jsec" placeholder="Batch">
                                      
                                        <input type="text" class="form-control " id="sal" placeholder="Parent email id">
                                    
            
                                        <input type="text" class="form-control " id="uname" placeholder="USERNAME">
                                  
                                        <input type="password" class="form-control " id="pswrd" placeholder="PASSWORD">
                                      
                                        <input type="password" class="form-control" id="pswrd2" placeholder="CONFIRM PASSWORD">
                                      
                                 
                                    <button id="regbtn" class="btn btn-block">Register</button>

                            </div>
                        </div>
                       
                    </div>
                </center>
                </div>
            </div>
            <!-- Header End -->
            
            
          


            
            
            <!-- Feature Start -->
            
            <!-- Feature End -->
            
            
          


           
            
            
           

            <!-- Footer Start -->
            
            <!-- Footer End -->
            
            <a href="#" class="back-to-top"><i class="fa fa-chevron-up"></i></a>
        </div>

        <!-- JavaScript Libraries -->
        <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>
        <script src="{% static 'home/lib/easing/easing.min.js' %}"></script>
        <script src="{% static 'home/lib/owlcarousel/owl.carousel.min.js' %}"></script>
        <script src="{% static 'home/lib/isotope/isotope.pkgd.min.js' %}"></script>
        <script src="{% static 'home/lib/lightbox/js/lightbox.min.js' %}"></script>

        <!-- Template Javascript -->
        <script src="{% static 'home/js/main.js' %}"></script>
    </body>
    <script>
        $("#regbtn").click(function(){
        fname=$('#fname').val();
        email=$('#email').val();
        phone=$('#phone').val();
        addr=$('#addr').val();
        jsec=$('#jsec').val();
        sal=$('#sal').val();
        uname=$('#uname').val();
        pswrd=$('#pswrd').val();
        pswrd2=$('#pswrd2').val();
        var pwd_expression = /^(?=.*\d)(?=.*[!@#$%^&*])(?=.*[a-z])(?=.*[A-Z]).{8,}$/;;
            var letters = /^[a-zA-Z\s]+$/
            var filter = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
        var unmpattern=/^[a-zA-Z][a-zA-Z0-9.,$;]+$/
          if(fname==""){
              alert("Please enter Store Name first!");
          }
          
        else if(fname.length<4){
          alert("Name length should be greater than 4")
        }
        else if(email=='')
            {
                alert('Please enter your user email id');
            }
            else if (!filter.test(email))
            {
                alert('Invalid email format');
            }
        else if(phone==""){
          alert("Please enter phone number")
        }
        else if(phone==""){
          alert("Please enter phone number")
        }
        else if(phone.length!=10){
          alert("Phone number must be 10 digit number")
        }
        
        else if(addr==""){
          alert("Please enter address of user")
        }
        else if(jsec==""){
          alert("Please enter Employee Job section")
        }
        else if(sal==""){
          alert("Please enter Employee salary")
        }
        else if(uname==""){
          alert("Please enter username")
        }
       
        else if(pswrd==""){
          alert("Enter your password")
        }
        
        else if(!pwd_expression.test(pswrd)){
          alert("Upper case, Lower case, Special character and Numeric letter are required in Password field\n Length should be greater than 8")
        }
        else if(pswrd2!=pswrd){
          alert("Passwords are must be same!")
        }
          else{
            $.ajax({url:"/SaveStore/",
              data:{
                  "fname":fname,
                  "email":email,
                  "phone":phone,
                  "addr":addr,
                  "jsec":jsec,
                  "sal":sal,
                  "uname":uname,
                  "pswrd":pswrd,
    
              },
          success:function(da){
                     
                 if(da.status==1)  {
                   alert("Registration Sucessfull!!")
                   window.location.href="{% url 'Regestudent' %}"
                 }  
                 else{
                   alert("Oops!!! some error occured\nTry again later")
                 }
              
          }
        });
        
          }
          
      }); 
      </script>
</html>
